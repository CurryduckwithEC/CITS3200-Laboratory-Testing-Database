var URL = "http://127.0.0.1:5000";

var current_distance_filter = -1; 
var current_category_filter = -1;

const activities_json = [{"Origin":"Bradford","Distance":14,"Type":"Sensory,Sport","Category":"Fishing","Organisation":"Fishability","Description":" Fishability helps fishers with disabilities enjoy recreational jetty and vessel-based fishing regardless of ability.\nCustomers and Support Workers can participate through the group or check out the Fishability map to choose their own location. Spots marked with green pins have designated disabled parking, toilets and easy access facilities. Each Fishability group activity is equipped with actuated electrical reels to support fishers requiring assistance with the casting and retrieval of fishing lines and independent fishing.  The equipment has been specifically designed and modified for Fishability and to cater for people with physical challenges.","Contact":"1. Can contact either through website:    https:\/\/fishability.org.au\/contact-us\/ or specific details on the website                    2. For group events:  different contact details for different activities ","Cost":"Free","Booking":"For group activities: book through website: https:\/\/fishability.org.au\/events-calendar\/ as there are limited places.  For solo activities: none","Duration":"For group activities: Different times for different group activities. Can be around 1-3 hours.        For solo activities: can choose own timing. ","Postcode":null,"Location":"For solo activities: Multiple locations all around WA (everywhere) (Fishability map: https:\/\/fishability.org.au\/go-fishing-yourself-using-our-fishability-map\/)                 For group activities: Albany, Bunbury, Busselton, Freshwater (Waroona), Geraldton, Mandurah and Perth (specific location is seen when booking)","Parking":"Yes","Toilets":"Accessible toilets for both group and solo activities.","Notes":"For group activities: Require participants to book, and bring along a support worker.\nFor group and solo activities:                       1. Customers are required to wear enclosed shoes and wear suitable clothing in accordance to the weather conditions.                   2.The activities are SunSmart and every participant, support worker and volunteer to adhere to our SunSmart policy.          More information: https:\/\/fishability.org.au\/\n\n","Restrictions":"For group activities: Participants are required to be a minimum of 1.2 metres high for the vessel activities, and it is recommended the same minimum height for jetty activities.","Last_Updated":1688428800000,"Misc_Notes":"More information: https:\/\/fishability.org.au\/","Image":null},{"Origin":"Bradford","Distance":7,"Type":"Sensory,Sport","Category":"Bowling","Organisation":"BowlAbility - Hosted by Kardinya Bowling Club & Bowls WA","Description":"An inclusive Bowls activity that runs year round from first Friday in February until second Friday in December except school holidays.  It runs from 11am to 1pm.","Contact":"Denise McMillan: 0449 619 841 or denise@bowlswa.com.au","Cost":"$5 per Bowler-Companion Card Honoured for Carers & Organizers","Booking":"To register contact Denise McMillan: 0449 619 841 or denise@bowlswa.com.au ","Duration":"11 am- 1 pm = 2 hours ","Postcode":6163,"Location":"Kardinya Bowling Club, Morris Buzacott Reserve (off Williamson Road), Kardinya","Parking":"Yes*","Toilets":"Accessible toilets for both group and solo activities.*","Notes":"1. Participants should bring a water bottle, a hat if required, and flat-soled shoes. \n2. Greens are wheelchair and walker accessible and all equipment (Bowls Chutes) is provided.                      3. 2023 BowlAbility schedule is as follows:\nTerm 1: Friday 3 February \u2013 Friday 31 March (Friday 7 April is Good Friday \u2013 Public Holiday)\nTerm 2: Friday 28 April \u2013 Friday 30 June\nTerm 3: Friday 21 July \u2013 Friday 22 September\nTerm 4: Friday 13 October \u2013 Friday 8 December (End of Year BBQ)                    More information: https:\/\/www.bowlswa.com.au\/inclusive-bowls\/","Restrictions":"No caf\u00e9 available ","Last_Updated":1689552000000,"Misc_Notes":"Talk to Key Contact* and ask if membership needed as well         More information: https:\/\/www.bowlswa.com.au\/inclusive-bowls\/","Image":null},{"Origin":"Bradford","Distance":7,"Type":"Museum","Category":"Museum","Organisation":"WA Shipwreck and Maritime Museum","Description":"Immerse yourself in ancient submarines, peal luggers and remains from ships wrecked along WA\u2019s coastline. If you enjoy maritime history, it\u2019s the perfect place to discover more about the local oceans and their vessels.","Contact":"Contact number: 1300 134 081","Cost":"Free- Shipwreck museum $10 (carer free if they have a valid companion card)- Maritime museum","Booking":"No Booking required for both Shipwreck museum and Maritime museum. However for maritime can book online (https:\/\/ticketing.museum.wa.gov.au\/events?kid=405) or by calling 1300 134 081.","Duration":"Open daily: 9:30 am-5 pm ","Postcode":6160,"Location":"47 Clliff St, Fremantle WA 6160","Parking":"Yes, ACROD Parking\nWilsons car park $1.80\/hr\n2 bays in front of museum and 1 bay on Slip Street.\nLevel and ramp access to the Museum entrance.","Toilets":"Unisex disability access toilet available on the ground floor.","Notes":"For more information: https:\/\/visit.museum.wa.gov.au\/access-and-inclusion-wa-maritime-museum#:~:text=Access%20to%20and%20within%20the%20Museum&text=Wheelchairs%20are%20available%20for%20use,and%20caf%C3%A9%20internally%20and%20externally.","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":"Need to ask about the discounted fares for tram rides*","Image":null},{"Origin":"Bradford","Distance":7,"Type":"Parks","Category":"Park","Organisation":"Whiteman Park","Description":"Tourist Attraction: Has accessible attractions such as train rides, all-abilities playspace at Pia's place (Mussel Pool East), tram rides and more! Customers can even enjoy the Caversham wildlife park loooking for different kinds of wildlife and have a look through the motor museum as well for low prices. Whiteman Park aims to be a fully inclusive destination for people with disability to socialise with their families and friends, with almost all areas of the Park accessible to all.","Contact":"Email: \nenquiries@whitemanpark.com.au     Phone: \n+61 (08) 9209 6000                      In the park: Go to Visitor Information Centre for any queries. ","Cost":"Entry into Whiteman Park: Free             Vintage Train Rides (All day ticket prices for adult): $8 (Carers ride free with the Companion Card, 1:1 ratio)  Heritage Tram Rides*: $6 (Adult) (Customers and Carers with Companion Card have discounted fares) Motor Museum of WA : $16.50 (Adult) (Free entry for Carers with Companion Card) Pia's place: Free Caversham Wildlife Park: $32 (Adult) (Free entry for Carers with Companion Card) ","Booking":"No Booking needed. ","Duration":"Whiteman Park opening times: 8:30 am-6pm Caversham Wildlife Park & Motor Museum: 9:30am-4pm For train and tram rides check the website: https:\/\/www.whitemanpark.com.au\/trains-trams-museums","Postcode":6068,"Location":"233 Drumpellier Drive formerly, 99 Lord Street, Whiteman WA 6068","Parking":"Yes. For more information: https:\/\/www.whitemanpark.com.au\/visitor-info\/disabled-access","Toilets":"Accessible toilets andf changing facilities","Notes":"For more information: https:\/\/www.whitemanpark.com.au\/visitor-info\/disabled-access","Restrictions":null,"Last_Updated":1688601600000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":7,"Type":"Park","Category":"Recreation","Organisation":"Rotary Park","Description":"There are loads of facilities, toilets with baby change facilities, park benches, metal gazebos, barbecues, and plenty of parking. Heaps of wife open spaces for sports play or running wild. Heaps of play equipment for all ages, plenty of accessibility railings and even a wheelchair suitable merry go round","Contact":"9405 5000","Cost":"Free","Booking":"Not applicable","Duration":"24 hours","Postcode":6065,"Location":"275 Scenic Dr, Wanneroo WA 6065","Parking":"Not mentioned","Toilets":"Restrooms are basic but functional","Notes":null,"Restrictions":null,"Last_Updated":null,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":7,"Type":"Parks,Recreation","Category":"Park\/ Recreation","Organisation":"Lake Monger","Description":"Lake Monger Reserve is a major Perth tourist and local community destination offering a mix of passive recreation areas, shared use paths, nature trails, shaded playgrounds, picnic and barbecue facilities and some sporting facilities for recreation use.\nThe middle of the park is taken up with Lake Monger, a habitat for an abundance of local flora and fauna making it a popular location to observe a wide selection of WA's beautiful birdlife.\nBoardwalks and lookouts are provided around the lake from where you can take in the lake's natural beauty, with a lookout on the north side of the lake enjoying views to the Perth city skyline.","Contact":"(08) 9347 6000","Cost":"Free","Booking":"No Booking needed. ","Duration":"Open 24 hours daily.","Postcode":6007,"Location":"Lake Monger Reserve, Lake Monger Dr, West Leederville WA 6007","Parking":"Yes.","Toilets":"All accessible toilet facilities","Notes":"Please note that fishing or water activities such as boating and kayaking are not permitted at Lake Monger. Be sunsmart. Also, the playground has disability friendly apparatus including ramps and swing.","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":null,"Image":"https:\/\/www.metrotrekker.com\/metro\/australia\/perth\/images\/_xl\/lake_monger_perth_004_xl.jpg"},{"Origin":"Bradford","Distance":7,"Type":"Sensory,Motor","Category":"Dance","Organisation":"Dance Inclusion","Description":"Dance Inclusion\u00a0program is a dance Movement Music Performance program for adults of ALL abilities where people\u00a0can express themselves in a safe and supportive environment. \nThe aim of the program is to improve such things as social interaction, confidence and self esteem, fine and gross motor skills, coordination, sense of rhythm, balance and flexibility.","Contact":"Phone : Tatam\u00a0 042 888 0059 Email : danceinclusion@outlook.com","Cost":"Entry fee: $12","Booking":"No Booking required.","Duration":"Timetable: Tuesday: \nMaddington\nCentrepoint\nchurch\n11-12.00 Wednesday: \nCockburn\nYouth Centre\n11.15-12.15 pm, Mandurah\nCoodanup Hall\n11.00-12.00pm Friday:McLarty Hall\n11 -12.00 pm, McLarty Hall\nEvening event\n7-9pm","Postcode":"6164, 6167, 6169, 6210","Location":"Cockburn: 25 Wentworth Parade, Success WA 6164 McLarty Hall: McLarty Rd, Shoalwater WA 6169 Maddington: 1895 Albany Hwy, Maddington WA 6109 Coodanup: Wanjeep St Coodanup 6210\n\n\u200b","Parking":null,"Toilets":null,"Notes":"Wheelchair access available. Website: https:\/\/www.danceinclusion.com.au","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":"Call\/email key contact and ask if the classes are running and facilities for disabled people. Check parking bay and toilet facilities for each location. ","Image":null},{"Origin":"Bradford","Distance":7,"Type":"Sensory,Motor","Category":"Music","Organisation":"Rhythm Fix","Description":"The group is a great place for people to express themselves fully through rhythm and music. Martin the facilitator keeps things running along nicely with varied beats and rhythmic excersises that keep peoples involvement while building co-ordinatio and rhythmic skills. A fun drum circle jam session for people with disabilities with some dancing. All drums provided.","Contact":"Email\ninfo@rhythmfix.com and \nmartin@rhythmfix.com\n\nMobile:\nMartin\n0417 953 810","Cost":"$15 cash at door","Booking":" Book to secure your spot.\nContact Leanne from 4lifeskills mob -0415 364 034.\nemail - lskewes@4lifeskills.org.au","Duration":"Monday and Friday from 12:30-15:30.","Postcode":6163,"Location":"83 Hamilton Rd, Spearwood WA 6163, Australia","Parking":null,"Toilets":null,"Notes":"For more information: http:\/\/www.rhythmfix.com\/","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":"Call\/email check where classes are as there are some in North Fremantle and Mirrabooka and update sheet. Confirm if they are in Spearwood as well. Check parking bay, toilet facilities and note for support workers. Ask price too as it might be $10? ","Image":null},{"Origin":"Bradford","Distance":7,"Type":"Sensory","Category":"Museum","Organisation":"Scitech ","Description":"There are 2.5 million minds in Western Australia. Scitech is here to spark questions in every single one, through playful science, technology, engineering and mathematics experiences. Filled with a bunch of sensory activities to do, scitecg offers a world to get lost in.  ","Contact":"Phone\n08 9215 0700","Cost":"Customer: $15 . Companion with card is free. ","Booking":"Website: https:\/\/scitech.rezdy.com\/399659\/general-public-all-day-tickets . Can also get the tickets at the gate. ","Duration":"Open from 9:30 am-4:00 pm everyday. Will be getting all day tickets. ","Postcode":6005,"Location":"City West Centre Corner Railway Street &, Sutherland St, West Perth WA 6005","Parking":"Yes","Toilets":"Accessible toilet. ","Notes":"For more information: https:\/\/www.scitech.org.au\/visit\/accessibility-inclusion\/","Restrictions":null,"Last_Updated":1688601600000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":7,"Type":"Parks","Category":"Parks","Organisation":"Kings Park ","Description":"Kings Park is a stunning inner city park known for its rich history, biodiversity, and breathtaking views. It houses the renowned Western Australian Botanic Garden and offers walking trails, beautiful gardens, children's play areas, a Visitor Information Centre, guided walks, a gallery shop, cafes, and convenient access to public transport.","Contact":"Phone: (08) 9480 3600. More contact details: https:\/\/www.bgpa.wa.gov.au\/contact-us","Cost":"Free","Booking":"No Booking required.","Duration":"Open 24 hours daily. However, cafes and shops have their own timings. ","Postcode":6005,"Location":" Fraser Ave, Perth WA 6005","Parking":"Yes","Toilets":"All toilet facilities in Kings Park include disabled access. Acacia Toilets located at Wadjuk Carpark, in the main visitor precinct, include an adult change table. ","Notes":"For more information: https:\/\/www.bgpa.wa.gov.au\/kings-park\/visit\/help-you\/visiting-with-disability","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":7,"Type":"Parks","Category":"Zoo","Organisation":"Perth Zoo","Description":" Perth Zoo is a popular attraction that showcases a diverse range of animal species in a beautifully landscaped setting. Located in Perth, Western Australia, the zoo is easily accessible and offers an enriching experience for visitors of all ages. With its commitment to conservation and education, Perth Zoo provides a wonderful opportunity to learn about and connect with wildlife from around the world. Perth Zoo is rich with the sights, sounds and smells of nature and set in a tranquil, fully-enclosed environment. This makes it an enriching, safe and accessible outing for visitors with a range of disabilities.\n","Contact":"Phone: (08) 9474 0444. Website: https:\/\/perthzoo.wa.gov.au\/contact-us","Cost":"Customer: $28.80. Companion with card is free. ","Booking":"Booking: https:\/\/perthzoo.wa.gov.au\/buy-tickets . Can get tickets at the gate too. ","Duration":"9 am- 5 pm everyday. ","Postcode":6151,"Location":"20 Labouchere Rd, South Perth WA 6151","Parking":"Yes","Toilets":"There are eight toilet facilities available for visitor use and clearly marked on signage and the Zoo map. Seven facilities include accessible toilets (*excluding the old toilets at the very top of the Zoo). On arrival, the nearest visitor toilets are just behind the Information Hub.\n","Notes":"Be sunsmart. For more information: 1. https:\/\/perthzoo.wa.gov.au\/accessibility 2. https:\/\/perthzoo.wa.gov.au\/visitor-information\/visitor-facilities","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":7,"Type":"Sensory","Category":"Parks","Organisation":"Dinosaur Park at Kingsway Regional Sports Complex","Description":"\nThe Dinosaur Park at Kingsway Regional Sport Complex is a captivating destination that combines the allure of dinosaurs with an inclusive and accessible playground. The park features life-sized dinosaur sculptures, interactive exhibits, and themed play areas that spark imagination and learning. Designed with the needs of individuals with disabilities in mind, it offers accessible pathways, sensory elements, and inclusive play equipment to ensure a delightful experience for all visitors.","Contact":"Phone: (08) 9405 5000\n\nAfter hours: 1300 138 393","Cost":"Free","Booking":"No Booking required.","Duration":"Open 8 am- 6pm everyday except: Thursday (8 am - 9 pm), Saturday (8am-5pm) and Sunday (11 am-5pm)","Postcode":6065,"Location":"Spectator Dr & Sporting Drive, Madeley WA 6065","Parking":"Yes","Toilets":"Accessible*","Notes":"Be sunsmart. For more information: https:\/\/www.playinwa.org.au\/nature-playgrounds\/i\/52954890\/kingsway-regional-dinosaur-park","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":"Need to confirm toilet accessibility and check contact details as well (might be wrong). ","Image":null},{"Origin":"Bradford","Distance":7,"Type":"Sensory","Category":"Parks ","Organisation":"Shipwreck Park in Sienna Wood","Description":"Shipwreck Park in Sienna Wood is a captivating and accessible park that offers a unique sensory experience for visitors. The park's theme revolves around shipwrecks, creating an immersive and adventurous environment for all to enjoy. It features inclusive play equipment, sensory elements, and accessible pathways, ensuring that individuals of all abilities can fully engage with the park's attractions. Has sand and nature based sensory play as well. ","Contact":"Phone: 0414 186 890*","Cost":"Free","Booking":"No Booking required.","Duration":"Open 24 hours daily.","Postcode":6112,"Location":"Shipwreck Park, Hilbert WA 6112","Parking":"Yes*","Toilets":"Accessible*","Notes":"Be sunsmart. For more information: https:\/\/www.kids-around-perth.com\/shipwreck-park-sienna-wood-hilbert\/","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":"Need to check*","Image":null},{"Origin":"Bradford","Distance":14,"Type":"Park","Category":"Parks","Organisation":"Liberty swing ","Description":"https:\/\/www.onlyperth.com.au\/liberty-swing-locations-wa","Contact":null,"Cost":null,"Booking":null,"Duration":null,"Postcode":null,"Location":null,"Parking":null,"Toilets":null,"Notes":"Be sunsmart. ","Restrictions":null,"Last_Updated":1688428800000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":14,"Type":"Museum,Sensory","Category":"Museum","Organisation":"WA Museum Boola Bardip ","Description":"The WA Museum is an Indigenous cultural institution in Western Australia that offers an enriching experience for visitors of all abilities. With a focus on accessibility and sensory engagement, the museum provides inclusive features such as accessible pathways, tactile exhibits, and multi-sensory displays. It showcases a diverse range of exhibits, artifacts, and interactive installations, allowing visitors to explore the history, culture, and natural wonders of Western Australia in an inclusive and immersive setting.","Contact":"Email: reception@museum.wa.gov.au\nPhone 1300 134 081","Cost":"Customer: $10 . Companion with card is free. ","Booking":"Booking is recommended. Can Book a ticket through calling 1300 134 081 or through website: https:\/\/ticketing.museum.wa.gov.au\/events?kid=395","Duration":"OPEN DAILY\n9.30am \u2013 5pm","Postcode":6000,"Location":"Perth Cultural Centre, Perth WA 6000","Parking":"Yes","Toilets":"Accessible","Notes":"For more information: https:\/\/visit.museum.wa.gov.au\/boolabardip\/everyone-included#:~:text=Wheelchair%20access,and%20caf%C3%A9%20internally%20and%20externally.","Restrictions":null,"Last_Updated":1688428800000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":14,"Type":"Art,Sensory","Category":"Gallery","Organisation":"WA Art Gallery ","Description":"The Art Gallery of Western Australia (AGWA) is a vibrant space in Perth that showcases a diverse collection of Indigenous and contemporary art. With a focus on accessibility, AGWA provides inclusive features like wheelchair access and accessible pathways. Visitors can explore sensory exhibits and engage with interactive installations, offering a dynamic and immersive experience that celebrates Indigenous culture and contemporary artistic expressions.","Contact":"Email: admin@artgallery.wa.gov.au\n+61 8 9492 6600\n","Cost":"Free","Booking":"No Booking required.","Duration":"0am-5pm, Daily.","Postcode":6000,"Location":"Perth Cultural Centre, Perth WA 6000","Parking":"Yes","Toilets":"Accessible","Notes":"For more information: https:\/\/artgallery.wa.gov.au\/plan-your-visit\/accessibility","Restrictions":null,"Last_Updated":1688601600000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":14,"Type":"Sensory","Category":"Theatre","Organisation":"Sensorium Theatre ","Description":" Sensorium Theatre in Western Australia is a unique theatrical experience designed specifically for audiences with disabilities and sensory sensitivities. Combining live performances with interactive elements, the theatre aims to create a sensory-rich environment that engages all senses. Through inclusive storytelling, music, and multi-sensory experiences, Sensorium Theatre provides an inclusive and immersive theatrical journey for individuals of all abilities, allowing them to actively participate and enjoy the magic of live performance.","Contact":"Phone: 0432 476 933 For Sensory Storytelling enquiries and bookings:\nplease email programs @ sensoriumtheatre (dot) com (dot) au\n\nFor all other enquiries:\nplease email gm @ sensoriumtheatre (dot) com (dot) au","Cost":"From $19","Booking":"Booking is required. Check website for latest tour details. Website: https:\/\/www.sensoriumtheatre.com.au\/","Duration":"Depends on the show. ","Postcode":null,"Location":null,"Parking":null,"Toilets":null,"Notes":"For more information: https:\/\/www.sensoriumtheatre.com.au\/","Restrictions":null,"Last_Updated":1689638400000,"Misc_Notes":"For children? Not for adults? - possible restriction: check. ","Image":null},{"Origin":"Bradford","Distance":14,"Type":"Sensory","Category":"Choir","Organisation":"VoiceworksPLUS","Description":"VoiceworksPLUS (VW+) is a choir and performing arts group which fosters the talents of people living with disabilities.\n\nVW+ was established in 2013 as part of Vocal Ensemble Voiceworks Inc (VEV). The program teaches acting, singing and movement techniques which help to build self-confidence and develop communication skills. Performances, which include participants and supporting volunteers, are designed to challenge community perceptions of disability.\n\nProspective new members are interviewed and assessed but do not require previous experience. VW+ is making a major difference to participants, their support networks and the local community.\n","Contact":" Amanda Hannington Phone: 0468 853 025","Cost":"Free* ","Booking":"Call Amanda Hannington 0468 835 025 to become a member ","Duration":"2 hours 30 mins on specific days each week*","Postcode":6008,"Location":"Located in: Shenton Park Community Centre\nAddress: 242 Onslow Rd, Shenton Park WA 6008","Parking":"*","Toilets":"*","Notes":"Call Amanda for information:  0468 835 025  Website: https:\/\/www.voiceworks.org.au\/voiceworksplus","Restrictions":null,"Last_Updated":1689724800000,"Misc_Notes":"Call Amanda for cost, membership, toilet and parking facilities. ","Image":null},{"Origin":"Bradford","Distance":14,"Type":"Sensory","Category":"Aquarium","Organisation":"AQWA","Description":"Discover Western Australia's spectacular marine life as you go on an underwater journey along our diverse and expansive coastline! \nExplore over 45 unique exhibits showcasing only native Western Australian marine life while also enjoying quiet sensory play at the ocean playroom, touch pool and more! ","Contact":"Email reception@aqwa.com.au\nCall (08) 9447 7500","Cost":"$26 - standard entry ticket. Companion with card is free. ","Booking":"For booking entry tickets visit: https:\/\/www.aqwa.com.au\/products\/standard-entry-ticket\/ OR contact Bookings team Email bookings@aqwa.com.au\nCall (08) 9447 7500\n","Duration":"Open 9 am- 4 pm daily.","Postcode":6025,"Location":"Located in: Hillarys Boat Harbour\nAddress: 91 Southside Dr, Hillarys WA 6025","Parking":"Yes","Toilets":"Ablution Block 1 is located near reception and contains 1 male and 1 female disabled cubicle, within each washroom. Ablution Block 2 is located outside near the Touch Pool and these toilets are unisex disabled cubicles","Notes":"For more information: https:\/\/www.aqwa.com.au\/about\/faqs\/","Restrictions":"A note on the Shipwreck Coast Tunnel:\n- The max. width of the moving walkway is 1.2m and the stationary platform is 1.1m.\n- If the wheelchair is on the moving walkway, prepare to disembark early. A sign will alert you to the approaching exit. \n- Request assistance if you encounter difficulty getting on or off the moving walkway. The conveyor belt can be stopped by AQWA staff, or in an emergency, a person can push the red stop buttons located along the walkway.\n                                                                                               AQWA has one area which unfortunately is not accessible by wheelchair: the great southern stairwell, which contains 4 small aquariums on the way down to the main Shipwreck Coast aquarium. This Shipwreck Coast aquarium features the underwater tunnel and is easily accessible by a brand new, spacious lift.\n\nAQWA\u2019s Marina area is accessible only by an access gate and requires staff assistance; please request access at reception and they will guide you through.","Last_Updated":1689724800000,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":14,"Type":"Park","Category":"Recreation","Organisation":"Hyde Park","Description":"Large, scenic green space with 2 lakes, playgrounds, wildlife & picnic facilities. Liberty Swing located on the corner of Glendower Street and Throssell Street. It is well maintained and popular with locals and tourists alike during the autumn season for its beautiful trees and colourful foliage. Easily accessible by public transportation and close enough that you can walk directly to the CBD","Contact":"9273 6034","Cost":"Free","Booking":"Open 24 hours","Duration":"People typically spend 1.5 hours there","Postcode":6000,"Location":"Cnr of Vincent Street & William Street, Perth WA 6000","Parking":"Not Listed","Toilets":"Two public toilets, including disabled toilets and baby change table located on Throssell Street and William Street","Notes":null,"Restrictions":null,"Last_Updated":null,"Misc_Notes":null,"Image":null},{"Origin":"Bradford","Distance":14,"Type":"Park","Category":"Recreation","Organisation":"Gibbney Reserve","Description":"Toddler sensory play \nSandpit play area  \nLogs, steppers, trees and boulders \nHammock \nClimbing pyramid \nPlay mounds and trampolines \nAccessible connecting pathways  \nShade sails \nPark infrastructure including a picnic shelter, seating, BBQ and water fountains \nNative planting throughout the park","Contact":null,"Cost":"Free","Booking":"Open 24 hours","Duration":"Not Listed","Postcode":6051,"Location":"14 Mephan Street, Maylands","Parking":"Not Listed","Toilets":null,"Notes":null,"Restrictions":null,"Last_Updated":null,"Misc_Notes":null,"Image":null}];

/**
 * Form select functions for distance and category for sorting
 */
document.getElementById("distance").addEventListener("change", function(){
    var selected = this.value;
    //console.log(selected);
    filter_distance(selected);
});

document.getElementById("category").addEventListener("change", function(){
    var selected = this.value;
    filter_category(selected);
})


/**
 * Takes location that matches route in API and assigns the
 * retrieved json to activities_json.
 */
function get_activities(location){
    return activities_json;
}


/**
 * render_cards uses the activities json to generate the cards
 * that are shown in the activities menu.
 * 
 * render_modal uses the activities json to generate the modal.
 * 
 * Both uses the id during the loop as the id for the html element to link
 * the modal to the card.
 */
function assign_id(activities_json){
    for (var i = 0; i < activities_json.length; ++i){
        activities_json[i]["id"] = i;
        //console.log(activities_json[i])
    }
}

function render_cards(activities_json){
    const template = $("#card-handlebars").html();
    const template_script = Handlebars.compile(template);

    for(var i = 0; i < activities_json.length; ++i){
        var context = activities_json[i];
        //console.log(context);
        var html = template_script(context);
        $("#main").append(html);
    }
}

function render_modal(activities_json){
    const template = $("#modal-handlebars").html();
    const template_script = Handlebars.compile(template);

    for(var i = 0; i < activities_json.length; ++i){
        var context = activities_json[i];
        //console.log(context);
        var html = template_script(context);
        $("#main").append(html);
    }
}

/**
 * Catch all to render both cards and modal.
 */

function render_all(location){
    const activities_json = get_activities(location)
    
    assign_id(activities_json);
    render_cards(activities_json);
    render_modal(activities_json);
    filter_distance(-1);
}

//TODO: find a way to allow sorting by both category and distance

/**
 * filter_distance assigns the .show class to displayable elements within
 * the filter for distance
 * 
 * takes the distance that is being filtered by
 */
function filter_distance(distance){
    // set current filter category
    set_distance_filter(distance);
    console.log("Distance filter: ", distance);
    var buttons = document.getElementsByClassName("list-button");

    // -1 is All filter
    if(distance == -1){
        for(var i = 0; i < buttons.length; ++i){
            //console.log("loaded all")
            hide_element(buttons[i]);
            console.log(current_category_filter);
            if(get_category_value(buttons[i]).includes(current_category_filter) || current_category_filter == -1){
                show_element(buttons[i]);
            }
        }
    }
    else{
        for(var i = 0; i < buttons.length; ++i){
            var element_distance = get_distance_value(buttons[i]);
            var element_category = get_category_value(buttons[i]);
            //console.log(element_distance);
            hide_element(buttons[i]);
            //console.log(Number(distance)==Number(element_distance));
            if(
                Number(distance) == Number(element_distance) && 
                (element_category.includes(current_category_filter) || current_category_filter == -1)
                ){
                show_element(buttons[i]);
            }
        }
    }
}

/**
 * filter_category assigns the .show class to displayable elements within the filter
 * for category
 * 
 * functions mainly based off searching the substring of the category displayed in the
 * card
 */
function filter_category(category){
    //set the current filter category
    set_category_filter(category);

    console.log("Category filter: ", category);
    var buttons = document.getElementsByClassName("list-button");
    console.log(category);
    // -1 is All filter
    if(category == -1 || category == "All"){
        for(var i = 0; i < buttons.length; ++i){
            hide_element(buttons[i]);
            if(get_distance_value(buttons[i]) == current_distance_filter || current_distance_filter == -1){
                show_element(buttons[i]);
            }
        }
    }
    else{
        for(var i = 0; i < buttons.length; ++i){
            var element_category = get_category_value(buttons[i]);
            var element_distance = get_distance_value(buttons[i]);
            hide_element(buttons[i]);
            console.log(element_category);
            if(
                element_category.includes(category) && 
                (element_distance == current_distance_filter || current_distance_filter == -1)
                ){
                show_element(buttons[i]);
            }
        }
    }
}

function show_element(element){
    element.classList.add("show");
    //console.log(element);
}

function hide_element(element){
    if(element.classList.contains("show")){
        element.classList.remove("show");
    }
}

/**
 * get_distance_value and get_category_value retrieves the distance and category
 * value from the button DOM object respectively which allows for easier sorting
 * by multiple filters
 */
function get_distance_value(element){
    var distance = element.querySelector("#sub_distance").innerText;
    distance = distance.replace("km", "");
    distance = Number(distance);     // cast to int preventing type issues
    return distance;
}

function get_category_value(element){
    var category = element.querySelector("#sub_category").innerText.toLowerCase();
    return category;
}

/**
 * Setter functions for current filter status, filters start with all (-1)
 */
function set_distance_filter(new_value){
    current_distance_filter = Number(new_value);
}

function set_category_filter(new_value){
    current_category_filter = new_value;
}